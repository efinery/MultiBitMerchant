alter table contact_method_secondary_details drop constraint FK1734DD8C4526A22;
alter table customers_contact_method_details drop constraint FKD51AD20D7E720D6D;
alter table customers_contact_method_details drop constraint FKD51AD20DBE26167;
drop table contact_method_details if exists;
drop table contact_method_secondary_details if exists;
drop table customers if exists;
drop table customers_contact_method_details if exists;
create table contact_method_details (id bigint generated by default as identity unique, primary_detail varchar(255), primary key (id));
create table contact_method_secondary_details (contact_method_id bigint not null, secondary_detail varchar(255));
create table customers (id bigint generated by default as identity unique, openId varchar(255) not null, primary key (id));
create table customers_contact_method_details (customers_id bigint not null, contactMethodMap_id bigint not null, contactMethodMap_KEY binary(255), primary key (customers_id, contactMethodMap_KEY), unique (contactMethodMap_id));
alter table contact_method_secondary_details add constraint FK1734DD8C4526A22 foreign key (contact_method_id) references contact_method_details;
alter table customers_contact_method_details add constraint FKD51AD20D7E720D6D foreign key (customers_id) references customers;
alter table customers_contact_method_details add constraint FKD51AD20DBE26167 foreign key (contactMethodMap_id) references contact_method_details;
